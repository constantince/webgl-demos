!function(e){function t(t){for(var r,i,u=t[0],l=t[1],c=t[2],s=0,d=[];s<u.length;s++)i=u[s],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(f&&f(t);d.length;)d.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,u=1;u<n.length;u++){var l=n[u];0!==a[l]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={10:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var u=window.webpackJsonp=window.webpackJsonp||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var c=0;c<u.length;c++)t(u[c]);var f=l;o.push([51,0]),n()}({0:function(e,t,n){"use strict";function r(e,t,n){var r=e.createShader(t);if(r){if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS)){var a=e.getShaderInfoLog(r);return console.warn(a),null}return r}return null}function a(e,t,n,r){var a=e.createProgram();if(a){if(e.attachShader(a,t),e.attachShader(a,n),r&&r.length>0&&(e.bindAttribLocation(a,r[0],"a_Position"),e.bindAttribLocation(a,r[1],"a_Color")),e.linkProgram(a),!e.getProgramParameter(a,e.LINK_STATUS)){var o=e.getProgramInfoLog(a);return console.warn(o),null}return a}return null}Object.defineProperty(t,"__esModule",{value:!0}),t.clearCanvas=t.preparation=t.resizeCanvasToDisplaySize=t.InitDraggingAction=t.initEvent=t.createFrameBuffer=t.createTexture=t.rotation=t.translateToWebglColor=t.initBuffer=t.initShader=t.createProgram=void 0,t.createProgram=a,t.initShader=function(e,t,n,o){var i=r(e,e.VERTEX_SHADER,t),u=r(e,e.FRAGMENT_SHADER,n);return i&&u?a(e,i,u,o):null},t.initBuffer=function(e,t,n,r,a,o){var i=e.createBuffer();if(i){var u=!1===o?e.ARRAY_BUFFER:e.ELEMENT_ARRAY_BUFFER;if(e.bindBuffer(u,i),e.bufferData(u,n,e.STATIC_DRAW),!1===o&&null!==r&&null!==a){var l=e.getAttribLocation(t,r);if(l<0)return console.log("Failed to get the storage location of "+r),!1;e.vertexAttribPointer(l,a,e.FLOAT,!1,0,0),e.enableVertexAttribArray(l)}}},t.translateToWebglColor=function(e){var t=function(e){var t=e.toLowerCase();if(t&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t)){if(4===t.length){for(var n="#",r=1;r<4;r+=1)n+=t.slice(r,r+1).concat(t.slice(r,r+1));t=n}var a=[];for(r=1;r<7;r+=2)a.push(parseInt("0x"+t.slice(r,r+2)));return a.concat(1)}return[255,255,255,255]}(e);return[t[0]/255,t[1]/255,t[2]/255,t[3]]};var o=Date.now();function i(e){var t=e.clientWidth,n=e.clientHeight,r=e.width!==t||e.height!==n;return r&&(e.width=t,e.height=n),r}t.rotation=function(e,t){return(e+t*(Date.now()-o)/1e3)%360},t.createTexture=function(e,t){return Promise.all(t.map((function(t){return function(e,t,n){return new Promise((function(r,a){var o=new Image;o.crossOrigin="anonymous",o.src=n,o.onload=function(){r(function(e,t,n,r){e.useProgram(t);var a=e.createTexture();e.activeTexture(r),e.bindTexture(e.TEXTURE_2D,a);var o=e.getUniformLocation(t,"u_Sampler");return e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,0,e.RGB,e.RGB,e.UNSIGNED_BYTE,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.generateMipmap(e.TEXTURE_2D),e.uniform1i(o,0),a}(e,t,o,e.TEXTURE0))}}))}(e,t.program,t.src)})))},t.createFrameBuffer=function(e,t,n){var r=e.createFramebuffer();if(!r)return console.error("frame buffer error"),null;var a=e.createTexture();if(!a)return console.error("texture created error"),null;e.bindTexture(e.TEXTURE_2D,a),e.texImage2D(e.TEXTURE_2D,0,e.RGB,t,n,0,e.RGB,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR);var o=e.createRenderbuffer();return e.bindRenderbuffer(e.RENDERBUFFER,o),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,t,n),e.checkFramebufferStatus(e.FRAMEBUFFER)!==e.FRAMEBUFFER_COMPLETE?(console.error("something goes wrong"),null):(e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,a,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,o),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),{fbo:r,texture:a})},t.initEvent=function(e,t){var n=!1,r=-1,a=-1;e.onmousedown=function(t){var o=t.clientX,i=t.clientY,u=e.getBoundingClientRect();u.left<=o&&o<u.right&&u.top<=i&&i<u.bottom&&(r=o,a=i,n=!0)},e.onmouseup=function(e){n=!1},e.onmousemove=function(o){var i=o.clientX,u=o.clientY;if(n){var l=100/e.height,c=l*(i-r),f=l*(u-a);t[0]=t[0]+f,t[1]=t[1]+c}r=i,a=u}},t.InitDraggingAction=function(e,t){var n=!1,r=-1,a=-1,o=0,i=0;e.onmousedown=function(t){var o=t.clientX,i=t.clientY,u=e.getBoundingClientRect();u.left<=o&&o<u.right&&u.top<=i&&i<u.bottom&&(r=o,a=i,n=!0)},e.onmouseup=function(e){n=!1},e.onmousemove=function(u){var l=u.clientX,c=u.clientY;if(n&&"function"==typeof t){var f=50/e.height;o+=f*(l-r),i+=f*(c-a),t(0,i%=360,o%=360)}r=l,a=c}},t.resizeCanvasToDisplaySize=i,t.preparation=function(e){e.enable(e.DEPTH_TEST),e.clearColor(.1,.1,.1,1)},t.clearCanvas=function(e){i(e.canvas),e.viewport(0,0,e.canvas.width,e.canvas.height),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}},10:function(e,t,n){"use strict";e.exports=n(2)},11:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(1));n(12);t.default=function(e){var t=e.id,n=e.main,r=e.children;return i.useEffect((function(){n(t)}),[]),i.default.createElement("div",{className:"new-scence"},i.default.createElement("header",null,i.default.createElement("p",{className:"title"},"title: CHEN YAN'S WEBGL LAB CHAPHTER 0: TEMPLATE"),i.default.createElement("p",{className:"desc"},"here input your description for the chapter.")),i.default.createElement("canvas",{id:t}),i.default.createElement("div",{className:"control-area"},r))}},12:function(e,t,n){},13:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(1));n(14);t.default=function(e){var t=e.href;return a.default.createElement("div",{className:"swither"},a.default.createElement("a",{href:t,className:"swith-source",target:"_blank"},"source code"),a.default.createElement("a",{className:"swith-viewer"},"view"))}},14:function(e,t,n){},2:function(e,t,n){"use strict";
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r,a,o,i;if("object"==typeof performance&&"function"==typeof performance.now){var u=performance;t.unstable_now=function(){return u.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var f=null,s=null,d=function(){if(null!==f)try{var e=t.unstable_now();f(!0,e),f=null}catch(e){throw setTimeout(d,0),e}};r=function(e){null!==f?setTimeout(r,0,e):(f=e,setTimeout(d,0))},a=function(e,t){s=setTimeout(e,t)},o=function(){clearTimeout(s)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,b=window.clearTimeout;if("undefined"!=typeof console){var v=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,h=null,E=-1,_=5,T=0;t.unstable_shouldYield=function(){return t.unstable_now()>=T},i=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5};var g=new MessageChannel,y=g.port2;g.port1.onmessage=function(){if(null!==h){var e=t.unstable_now();T=e+_;try{h(!0,e)?y.postMessage(null):(m=!1,h=null)}catch(e){throw y.postMessage(null),e}}else m=!1},r=function(e){h=e,m||(m=!0,y.postMessage(null))},a=function(e,n){E=p((function(){e(t.unstable_now())}),n)},o=function(){b(E),E=-1}}function w(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,a=e[r];if(!(void 0!==a&&0<O(a,t)))break e;e[r]=t,e[n]=a,n=r}}function R(e){return void 0===(e=e[0])?null:e}function P(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length;r<a;){var o=2*(r+1)-1,i=e[o],u=o+1,l=e[u];if(void 0!==i&&0>O(i,n))void 0!==l&&0>O(l,i)?(e[r]=l,e[u]=n,r=u):(e[r]=i,e[o]=n,r=o);else{if(!(void 0!==l&&0>O(l,n)))break e;e[r]=l,e[u]=n,r=u}}}return t}return null}function O(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var F=[],A=[],x=1,j=null,S=3,D=!1,M=!1,U=!1;function k(e){for(var t=R(A);null!==t;){if(null===t.callback)P(A);else{if(!(t.startTime<=e))break;P(A),t.sortIndex=t.expirationTime,w(F,t)}t=R(A)}}function B(e){if(U=!1,k(e),!M)if(null!==R(F))M=!0,r(C);else{var t=R(A);null!==t&&a(B,t.startTime-e)}}function C(e,n){M=!1,U&&(U=!1,o()),D=!0;var r=S;try{for(k(n),j=R(F);null!==j&&(!(j.expirationTime>n)||e&&!t.unstable_shouldYield());){var i=j.callback;if("function"==typeof i){j.callback=null,S=j.priorityLevel;var u=i(j.expirationTime<=n);n=t.unstable_now(),"function"==typeof u?j.callback=u:j===R(F)&&P(F),k(n)}else P(F);j=R(F)}if(null!==j)var l=!0;else{var c=R(A);null!==c&&a(B,c.startTime-n),l=!1}return l}finally{j=null,S=r,D=!1}}var N=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){M||D||(M=!0,r(C))},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_getFirstCallbackNode=function(){return R(F)},t.unstable_next=function(e){switch(S){case 1:case 2:case 3:var t=3;break;default:t=S}var n=S;S=t;try{return e()}finally{S=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=N,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=S;S=e;try{return t()}finally{S=n}},t.unstable_scheduleCallback=function(e,n,i){var u=t.unstable_now();switch("object"==typeof i&&null!==i?i="number"==typeof(i=i.delay)&&0<i?u+i:u:i=u,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:x++,callback:n,priorityLevel:e,startTime:i,expirationTime:l=i+l,sortIndex:-1},i>u?(e.sortIndex=i,w(A,e),null===R(F)&&e===R(A)&&(U?o():U=!0,a(B,i-u))):(e.sortIndex=l,w(F,e),M||D||(M=!0,r(C))),e},t.unstable_wrapCallback=function(e){var t=S;return function(){var n=S;S=t;try{return e.apply(this,arguments)}finally{S=n}}}},3:function(e,t,n){},51:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=o(n(1)),l=i(n(9));n(3);var c=i(n(11)),f=n(52),s=i(n(13)),d=window;d.x=1,d.y=1,d.z=-1.5;l.default.render(u.default.createElement((function(e){var t=u.useState("0"),n=(t[0],t[1],u.useState("0")),r=(n[0],n[1],u.useState("0"));r[0],r[1];return u.default.createElement("div",{className:"container"},u.default.createElement(c.default,{id:"template",main:f.main},u.default.createElement("div",null,u.default.createElement(s.default,{href:"https://github.com/constantince"}))),u.default.createElement("footer",{className:"footer-desc"},"Power up by Typescript, Webpack and Webgl2 "))}),null),document.getElementById("app"))},52:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function u(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,u)}l((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.main=void 0;var o=n(0);t.main=function(e){var t=document.getElementById(e).getContext("webgl2");o.preparation(t),function(e){return r(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,fetch(e)];case 1:return[2,t.sent().json()]}}))}))}("https://webgl2fundamentals.org/webgl/resources/models/killer_whale/whale.CYCLES.gltf").then((function(e){})),window.requestAnimationFrame((function(e){o.clearCanvas(t)}))}},8:function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,u,l=i(e),c=1;c<arguments.length;c++){for(var f in n=Object(arguments[c]))a.call(n,f)&&(l[f]=n[f]);if(r){u=r(n);for(var s=0;s<u.length;s++)o.call(n,u[s])&&(l[u[s]]=n[u[s]])}}return l}}});